parameters:
  - name: username
  - name: password
  - name: tenant
  - name: subscription_id

steps:
  - bash: |
      az login \
        --service-principal \
        --username ${{ parameters.username }} \
        --password ${{ parameters.password }} \
        --tenant ${{ parameters.tenant }}

      az account set -s ${{ parameters.subscription_id }}
    displayName: AZ Login
